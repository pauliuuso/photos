<div class="col-12 col-md-6 card upload-form">
  <h2>Įkelti nuotrauką</h2>
  <form [formGroup]="form" (ngSubmit)="UploadPhoto()" novalidate>

    <div class="form-group"
      [ngClass]="
      {
        'has-danger': pictureName.dirty && pictureName.invalid,
        'has-success': pictureName.dirty && pictureName.valid
      }"
    >
      <label for="pictureName">Nuotraukos pavadinimas:</label>
      <input type="text" name="pictureName" class="form-control" formControlName="pictureName" placeholder="Pavadinimas">
      <div class="form-control-feedback" *ngIf="pictureName.dirty && pictureName.touched && pictureName.invalid">
        <p *ngIf="pictureName.errors.required">Laukelis yra būtinas!</p>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Aprašymas:</label>
      <textarea name="description" class="form-control pc-description" formControlName="description" placeholder="Aprašymas"></textarea>
    </div>

    <div class="form-group">
      <label class="btn btn-primary">
        <i class="fa fa-plus" aria-hidden="true"></i> Pasirinkte nuotrauką
        <input type="file" name="fileInput" class="hidden" (change)="FileChanged($event)" accept="image/png, image/gif, image/jpeg, image/jpg">
      </label>
      <p class="text-danger">{{ imageError }}</p>

      <p>{{fileName}}</p>
      <img [ngClass]="{'hidden': !imageSelected}" id="imageFile" class="image-file col-12 p-0 m-0 animated fadeIn"/>
    </div>

    <p class="text-danger">{{errorMessage}}</p>

    <button type="submit" [ngClass]="{'btn-disabled': isUploading, 'btn-primary': !isUploading}" class="btn pb-2" [disabled]="isUploading">Siųsti</button>
    <p [ngClass]="{'hidden': !isUploading}">Siunčiama <i class="fa fa-spinner fa-spin"></i></p>

  </form>

</div>
